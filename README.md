# E-commerce Database Schema

## 개요
이 데이터베이스는 온라인 쇼핑몰을 위한 종합적인 e-commerce 플랫폼 스키마입니다. 사용자 관리, 상품 관리, 주문 처리, 결제, 배송, 리뷰, 고객 서비스 등 온라인 쇼핑몰의 전체 비즈니스 프로세스를 지원합니다.

## 주요 기능

### 👤 사용자 관리
- **회원 관리**: 일반 사용자 및 관리자 계정 관리
- **권한 시스템**: 역할 기반 접근 제어 (RBAC)
- **로그인 이력**: 보안을 위한 로그인 기록 추적
- **약관 동의**: 사용자별 약관 동의 이력 관리

### 🛍️ 상품 관리
- **카테고리 시스템**: 3단계 계층형 카테고리 (lv1, lv2, lv3)
- **상품 변형**: 색상, 사이즈별 상품 옵션 관리
- **재고 관리**: 상품별 재고 추적 및 관리
- **가격 정책**: 할인가, 원가, 할인율 등 다양한 가격 옵션
- **이미지 관리**: 상품 썸네일, 상세 이미지, 변형별 이미지

### 🛒 주문 및 결제
- **주문 관리**: 주문 생성, 상태 추적, 이력 관리
- **장바구니**: 사용자별 장바구니 기능
- **결제 시스템**: 다양한 PG사 연동 및 결제 방식 지원
- **쿠폰 시스템**: 할인 쿠폰 발행 및 사용 관리
- **마일리지**: 적립 및 사용 내역 관리

### 🚚 배송 관리
- **배송 추적**: 택배사 API 연동을 통한 실시간 배송 추적
- **배송 예외처리**: 배송 중 발생하는 문제 상황 관리
- **반품/교환**: 반품 및 교환 프로세스 관리
- **환불**: 다양한 환불 방식 지원

### 💬 고객 서비스
- **상품 리뷰**: 평점, 댓글, 좋아요 기능
- **문의 시스템**: 상품 문의 및 답변 관리
- **신고 기능**: 부적절한 리뷰나 댓글 신고
- **공지사항**: 관리자 공지사항 관리

## 데이터베이스 구조

### 핵심 테이블

#### 사용자 관련
- `USERS`: 기본 사용자 정보
- `USER_DETAIL`: 상세 사용자 정보
- `ADMIN_DETAIL`: 관리자 상세 정보
- `role`, `authenticate`, `role-permission`: 권한 관리

#### 상품 관련
- `product`: 기본 상품 정보
- `product_variant`: 상품 변형 (색상, 사이즈)
- `PRODUCT_STOCK`: 재고 관리
- `PRODUCT_OPTION_PRICE`: 가격 정보
- `lv1`, `lv2`, `lv3`: 계층형 카테고리

#### 주문 관련
- `ORDERS`: 주문 정보
- `ORDER_ITEM`: 주문 상품 목록
- `ORDER_HISTORY`: 주문 상태 변경 이력
- `PRODUCT_SNAPSHOT`: 주문 시점의 상품 정보 스냅샷

#### 결제 관련
- `PAYMENT`: 결제 정보
- `COUPON`, `USER_COUPON`: 쿠폰 시스템
- `mileage`, `mileage_history`: 마일리지 관리

#### 배송 관련
- `Shipment`: 배송 정보
- `Delivery_Company_API`: 택배사 API 정보
- `Return`, `Exchange`, `Refund`: 반품/교환/환불

#### 고객 서비스
- `review`, `review_comment`, `review_like`: 리뷰 시스템
- `Inquiry`, `inquiry_answer`: 문의 시스템
- `report`: 신고 기능

## 주요 특징

### 🔒 보안
- 권한 기반 접근 제어 시스템
- 로그인 이력 추적
- 사용자 인증 및 권한 관리

### 📊 데이터 무결성
- 외래 키 제약 조건으로 데이터 일관성 보장
- 주문 시점의 상품 정보 스냅샷 기능
- 논리적 삭제 (soft delete) 지원

### 🔄 확장성
- 계층형 카테고리 구조
- 코드 테이블을 통한 확장 가능한 설정
- 다양한 결제 방식 및 PG사 지원

### 📈 비즈니스 지원
- 상품 판매 통계 및 조회수 추적
- 리뷰 평점 시스템
- 마일리지 적립 및 사용
- 다양한 할인 정책 지원

## 설치 및 사용

1. MySQL 데이터베이스 생성
2. 제공된 SQL 스크립트 실행
3. 필요한 기본 데이터 삽입 (카테고리, 코드 테이블 등)
4. 애플리케이션과 연동

## 주의사항

- 일부 테이블에서 데이터 타입 오류가 있을 수 있습니다 (예: `DECEMAL` → `DECIMAL`)
- 테이블명과 컬럼명의 일관성을 확인해주세요
- 외래 키 제약 조건 설정 시 참조 무결성을 확인해주세요

## 향후 개선사항

- 테이블명 및 컬럼명 표준화
- 인덱스 최적화
- 파티셔닝 고려 (대용량 데이터 처리)
- 캐싱 전략 수립
